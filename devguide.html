


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Developer’s Guide &#8212; xonsh 0.7.3.dev37 documentation</title>
    <link rel="stylesheet" href="_static/numpy_friendly.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="_static/cloud.base.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="shortcut icon" href="_static/magic_conch.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Xonsh Change Log" href="changelog.html" />
    <link rel="prev" title="Advanced Events" href="advanced_events.html" />
     
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="http://xon.sh/devguide.html"/>

  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="changelog.html" title="Xonsh Change Log"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="advanced_events.html" title="Advanced Events"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="sidebar.html">xonsh 0.7.3.dev37 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">the xonsh shell</a> &#187;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="developer-s-guide">
<span id="devguide"></span><h1>Developer’s Guide<a class="headerlink" href="#developer-s-guide" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="_images/knight-vs-snail.jpg"><img alt="knight-vs-snail" class="align-center" src="_images/knight-vs-snail.jpg" style="width: 80%;" /></a>
<p>Welcome to the xonsh developer’s guide!  This is a place for developers to
place information that does not belong in the user’s guide or the library
reference but is useful or necessary for the next people that come along to
develop xonsh.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All code changes must go through the pull request review procedure.</p>
</div>
<div class="section" id="making-your-first-change">
<h2>Making Your First Change<a class="headerlink" href="#making-your-first-change" title="Permalink to this headline">¶</a></h2>
<p>First, install xonsh from source and open a xonsh shell in your favorite
terminal application. See installation instructions for details.</p>
<p>Next, make a trivial change (e.g. <code class="docutils literal notranslate"><span class="pre">print(&quot;hello!&quot;)</span></code> in <code class="docutils literal notranslate"><span class="pre">main.py</span></code>).</p>
<p>Finally, run the following commands. You should see the effects of your change
(e.g. <code class="docutils literal notranslate"><span class="pre">hello!</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $XONSH_DEBUG=1
$ xonsh
</pre></div>
</div>
<p>The xonsh build process collapses all Python source files into a single
<code class="docutils literal notranslate"><span class="pre">__amalgam__.py</span></code> file. When xonsh is started with a falsy value for
<a class="reference external" href="envvars.html">$XONSH_DEBUG</a>, it imports Python modules straight from
<code class="docutils literal notranslate"><span class="pre">__amalgam__.py</span></code>, which decreases startup times by eliminating the cost of
runtime imports. But setting <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">$XONSH_DEBUG=1</span></code> will suppress amalgamated
imports. Reloading the xonsh shell (<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">xonsh</span></code>) won’t simply import the stale
<code class="docutils literal notranslate"><span class="pre">__amalgam__.py</span></code> file that doesn’t contain your new change, but will instead
import the unamalgamated source code which does contain your change. You can now
load every subsequent change by reloading xonsh, and if your code changes don’t
seem to have any effect, make sure you check <code class="docutils literal notranslate"><span class="pre">$XONSH_DEBUG</span></code> first!</p>
</div>
<div class="section" id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h2>
<p>Pull requests will often have CHANGELOG entries associated with. However,
to avoid excessive merge conflicts, please follow the following procedure:</p>
<ol class="arabic">
<li><p class="first">Go into the <code class="docutils literal notranslate"><span class="pre">news/</span></code> directory,</p>
</li>
<li><p class="first">Copy the <code class="docutils literal notranslate"><span class="pre">TEMPLATE.rst</span></code> file to another file in the <code class="docutils literal notranslate"><span class="pre">news/</span></code> directory.
We suggest using the branchname:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cp TEMPLATE.rst branch.rst
</pre></div>
</div>
</li>
<li><p class="first">Add your entries as a bullet pointed lists in your <code class="docutils literal notranslate"><span class="pre">branch.rst</span></code> file in
the appropriate category. It is OK to leave the <code class="docutils literal notranslate"><span class="pre">None</span></code> entries for later
use.</p>
</li>
<li><p class="first">Commit your <code class="docutils literal notranslate"><span class="pre">branch.rst</span></code>.</p>
</li>
</ol>
<p>Feel free to update this file whenever you want! Please don’t use someone
else’s file name. All of the files in this <code class="docutils literal notranslate"><span class="pre">news/</span></code> directory will be merged
automatically at release time.  The <code class="docutils literal notranslate"><span class="pre">None</span></code> entries will be automatically
filtered out too!</p>
</div>
<div class="section" id="style-guide">
<h2>Style Guide<a class="headerlink" href="#style-guide" title="Permalink to this headline">¶</a></h2>
<p>xonsh is a pure Python project, and so we use PEP8 (with some additions) to
ensure consistency throughout the code base.</p>
<div class="section" id="rules-to-write-by">
<h3>Rules to Write By<a class="headerlink" href="#rules-to-write-by" title="Permalink to this headline">¶</a></h3>
<p>It is important to refer to things and concepts by their most specific name.
When writing xonsh code or documentation please use technical terms
appropriately. The following rules help provide needed clarity.</p>
<div class="section" id="interfaces">
<h4>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>User-facing APIs should be as generic and robust as possible.</li>
<li>Tests belong in the top-level <code class="docutils literal notranslate"><span class="pre">tests</span></code> directory.</li>
<li>Documentation belongs in the top-level <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory.</li>
</ul>
</div>
<div class="section" id="expectations">
<h4>Expectations<a class="headerlink" href="#expectations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Code must have associated tests and adequate documentation.</li>
<li>User-interaction code (such as the Shell class) is hard to test.
Mechanism to test such constructs should be developed over time.</li>
<li>Have <em>extreme</em> empathy for your users.</li>
<li>Be selfish. Since you will be writing tests you will be your first user.</li>
</ul>
</div>
</div>
<div class="section" id="python-style-guide">
<h3>Python Style Guide<a class="headerlink" href="#python-style-guide" title="Permalink to this headline">¶</a></h3>
<p>xonsh uses <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> for all Python code. The following rules apply where <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a>
is open to interpretation.</p>
<ul class="simple">
<li>Use absolute imports (<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">xonsh.tools</span></code>) rather than explicit
relative imports (<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">.tools</span></code>). Implicit relative imports
(<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">tools</span></code>) are never allowed.</li>
<li>Use <code class="docutils literal notranslate"><span class="pre">'single</span> <span class="pre">quotes'</span></code> for string literals, and
<code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;triple</span> <span class="pre">double</span> <span class="pre">quotes&quot;&quot;&quot;</span></code> for docstrings. Double quotes are allowed to
prevent single quote escaping, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;Y'all</span> <span class="pre">c'mon</span> <span class="pre">o'er</span> <span class="pre">here!&quot;</span></code></li>
<li>We use sphinx with the numpydoc extension to autogenerate API documentation. Follow
the <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">numpydoc</a> standard for docstrings.</li>
<li>Simple functions should have simple docstrings.</li>
<li>Lines should be at most 80 characters long. The 72 and 79 character
recommendations from PEP8 are not required here.</li>
<li>All Python code should be compliant with Python 3.4+.  At some
unforeseen date in the future, Python 2.7 support <em>may</em> be supported.</li>
<li>Tests should be written with pytest using a procedural style. Do not use
unittest directly or write tests in an object-oriented style.</li>
<li>Test generators make more dots and the dots must flow!</li>
</ul>
<p>You can easily check for style issues, including some outright bugs such
as mispelled variable names, using pylint. If you’re using Anaconda you’ll
need to run “conda install pylint” once. You can easily run pylint on
the edited files in your uncommited git change:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pylint $(git status -s | awk &#39;/\.py$$/ { print $$2 }&#39; | sort)
</pre></div>
</div>
<p>If you want to lint the entire code base run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pylint $(find tests xonsh -name \*.py | sort)
</pre></div>
</div>
<div class="section" id="imports">
<h4>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h4>
<p>Xonsh source code may be amalgamated into a single file (<code class="docutils literal notranslate"><span class="pre">__amalgam__.py</span></code>)
to speed up imports. The way the code amalgamater works is that other modules
that are in the same package (and amalgamated) should be imported with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pkg.x</span> <span class="k">import</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span>
</pre></div>
</div>
<p>This is because the amalgamater puts all such modules in the same globals(),
which is effectively what the from-imports do. For example, <code class="docutils literal notranslate"><span class="pre">xonsh.ast</span></code> and
<code class="docutils literal notranslate"><span class="pre">xonsh.execer</span></code> are both in the same package (<code class="docutils literal notranslate"><span class="pre">xonsh</span></code>). Thus they should use
the above from from-import syntax.</p>
<p>Alternatively, for modules outside of the current package (or modules that are
not amalgamated) the import statement should be either <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pkg.x</span></code> or
<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pkg.x</span> <span class="pre">as</span> <span class="pre">name</span></code>. This is because these are the only cases where the
amalgamater is able to automatically insert lazy imports in way that is guaranteed
to be safe. This is due to the ambiguity that <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">pkg.x</span> <span class="pre">import</span> <span class="pre">name</span></code> may
import a variable that cannot be lazily constructed or may import a module.
So the simple rules to follow are that:</p>
<ol class="arabic simple">
<li>Import objects from modules in the same package directly in using from-import,</li>
<li>Import objects from modules outside of the package via a direct import
or import-as statement.</li>
</ol>
</div>
</div>
</div>
<div class="section" id="how-to-test">
<h2>How to Test<a class="headerlink" href="#how-to-test" title="Permalink to this headline">¶</a></h2>
<div class="section" id="docker">
<h3>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h3>
<p>If you want to run your “work in progress version” without installing
and in a fresh environment you can use Docker. If Docker is installed
you just have to run this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python xonsh-in-docker.py
</pre></div>
</div>
<p>This will build and run the current state of the repository in an isolated
container (it may take a while the first time you run it). There are two
additional arguments you can pass this script.</p>
<ul class="simple">
<li>The version of python</li>
<li>the version of <code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python docker.py 3.4 0.57
</pre></div>
</div>
<p>Ensure your cwd is the root directory of the project (i.e., the one containing the
.git directory).</p>
</div>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Prep your environment for running the tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -r requirements-tests.txt
</pre></div>
</div>
</div>
<div class="section" id="running-the-tests-basic">
<h3>Running the Tests - Basic<a class="headerlink" href="#running-the-tests-basic" title="Permalink to this headline">¶</a></h3>
<p>Run all the tests using pytest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ py.test -q
</pre></div>
</div>
<p>Use “-q” to keep pytest from outputting a bunch of info for every test.</p>
</div>
<div class="section" id="running-the-tests-advanced">
<h3>Running the Tests - Advanced<a class="headerlink" href="#running-the-tests-advanced" title="Permalink to this headline">¶</a></h3>
<p>To perform all unit tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ py.test
</pre></div>
</div>
<p>If you want to run specific tests you can specify the test names to
execute. For example to run test_aliases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ py.test test_aliases.py
</pre></div>
</div>
<p>Note that you can pass multiple test names in the above examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ py.test test_aliases.py test_environ.py
</pre></div>
</div>
</div>
<div class="section" id="writing-the-tests-advanced">
<h3>Writing the Tests - Advanced<a class="headerlink" href="#writing-the-tests-advanced" title="Permalink to this headline">¶</a></h3>
<p>(refer to pytest documentation)</p>
<p>With the Pytest framework you can use bare <cite>assert</cite> statements on
anything you’re trying to test, note that the name of the test function
has to be prefixed with <cite>test_</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_whatever</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">is_true_or_false</span>
</pre></div>
</div>
<p>The conftest.py in tests directory defines fixtures for mocking various
parts of xonsh for more test isolation. For a list of the various fixtures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ py.test --fixtures
</pre></div>
</div>
<p>when writing tests it’s best to use pytest features i.e parametrization:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s1">&#39;env&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">test_env1</span><span class="p">,</span> <span class="n">test_env2</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">xonsh_builtins</span><span class="p">):</span>
    <span class="n">xonsh_builtins</span><span class="o">.</span><span class="n">__xonsh_env__</span> <span class="o">=</span> <span class="n">env</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>this will run the test two times each time with the respective <cite>test_env</cite>.
This can be done with a for loop too but the test will run
only once for the different test cases and you get less isolation.</p>
<p>With that in mind, each test should have the least <cite>assert</cite> statements,
preferably one.</p>
<p>At the moment, xonsh doesn’t support any pytest plugins.</p>
<p>Happy Testing!</p>
</div>
</div>
<div class="section" id="how-to-document">
<h2>How to Document<a class="headerlink" href="#how-to-document" title="Permalink to this headline">¶</a></h2>
<p>Documentation takes many forms. This will guide you through the steps of
successful documentation.</p>
<div class="section" id="docstrings">
<h3>Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">¶</a></h3>
<p>No matter what language you are writing in, you should always have
documentation strings along with you code. This is so important that it is
part of the style guide.  When writing in Python, your docstrings should be
in reStructured Text using the <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">numpydoc</a> format.</p>
</div>
<div class="section" id="auto-documentation-hooks">
<h3>Auto-Documentation Hooks<a class="headerlink" href="#auto-documentation-hooks" title="Permalink to this headline">¶</a></h3>
<p>The docstrings that you have written will automatically be connected to the
website, once the appropriate hooks have been setup.  At this stage, all
documentation lives within xonsh’s top-level <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory.
We uses the sphinx tool to manage and generate the documentation, which
you can learn about from <a class="reference external" href="http://sphinx-doc.org/">the sphinx website</a>.
If you want to generate the documentation, first xonsh itself must be installed
and then you may run the following command from the <code class="docutils literal notranslate"><span class="pre">docs</span></code> dir:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">~/xonsh/docs $ make html</span>
</pre></div>
</div>
<p>For each new
module, you will have to supply the appropriate hooks. This should be done the
first time that the module appears in a pull request.  From here, call the
new module <code class="docutils literal notranslate"><span class="pre">mymod</span></code>.  The following explains how to add hooks.</p>
</div>
<div class="section" id="python-hooks">
<h3>Python Hooks<a class="headerlink" href="#python-hooks" title="Permalink to this headline">¶</a></h3>
<p>Python documentation lives in the <code class="docutils literal notranslate"><span class="pre">docs/api</span></code> directory.
First, create a file in this directory that represents the new module called
<code class="docutils literal notranslate"><span class="pre">mymod.rst</span></code>.
The <code class="docutils literal notranslate"><span class="pre">docs/api</span></code> directory matches the structure of the <code class="docutils literal notranslate"><span class="pre">xonsh/</span></code> directory.
So if your module is in a sub-package, you’ll need to go into the sub-package’s
directory before creating <code class="docutils literal notranslate"><span class="pre">mymod.rst</span></code>.
The contents of this file should be as follows:</p>
<p><strong>mymod.rst:</strong></p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_xonsh_mymod:</span>

<span class="gh">=======================================</span>
<span class="gh">My Awesome Module -- :mod:`xonsh.mymod`</span>
<span class="gh">=======================================</span>

<span class="p">..</span> <span class="ow">currentmodule</span><span class="p">::</span> xonsh.mymod

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> xonsh.mymod
    <span class="nc">:members:</span>
</pre></div>
</div>
<p>This will discover all of the docstrings in <code class="docutils literal notranslate"><span class="pre">mymod</span></code> and create the
appropriate webpage. Now, you need to hook this page up to the rest of the
website.</p>
<p>Go into the <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> file in <code class="docutils literal notranslate"><span class="pre">docs/xonsh</span></code> or other subdirectory and add
<code class="docutils literal notranslate"><span class="pre">mymod</span></code> to the appropriate <code class="docutils literal notranslate"><span class="pre">toctree</span></code> (which stands for table-of-contents
tree). Note that every sub-package has its own <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> file.</p>
</div>
</div>
<div class="section" id="building-the-website">
<h2>Building the Website<a class="headerlink" href="#building-the-website" title="Permalink to this headline">¶</a></h2>
<p>Building the website/documentation requires the following dependencies:</p>
<ol class="arabic simple">
<li><a class="reference external" href="http://sphinx-doc.org/">Sphinx</a></li>
<li><a class="reference external" href="https://pythonhosted.org/cloud_sptheme/cloud_theme.html">Cloud Sphinx Theme</a></li>
</ol>
<div class="section" id="procedure-for-modifying-the-website">
<h3>Procedure for modifying the website<a class="headerlink" href="#procedure-for-modifying-the-website" title="Permalink to this headline">¶</a></h3>
<p>The xonsh website source files are located in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory.
A developer first makes necessary changes, then rebuilds the website locally
by executing the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make html
</pre></div>
</div>
<p>This will generate html files for the website in the <code class="docutils literal notranslate"><span class="pre">_build/html/</span></code> folder.
The developer may view the local changes by opening these files with their
favorite browser, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ google-chrome _build/html/index.html
</pre></div>
</div>
<p>Once the developer is satisfied with the changes, the changes should be
committed and pull-requested per usual. Once the pull request is accepted, the
developer can push their local changes directly to the website by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make push-root
</pre></div>
</div>
</div>
</div>
<div class="section" id="branches-and-releases">
<h2>Branches and Releases<a class="headerlink" href="#branches-and-releases" title="Permalink to this headline">¶</a></h2>
<p>Mainline xonsh development occurs on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch. Other branches
may be used for feature development (topical branches) or to represent
past and upcoming releases.</p>
<p>All releases should have a release candidate (‘-rc1’) that comes out 2 - 5 days
prior to the scheduled release.  During this time, no changes should occur to
a special release branch (‘vX.X.X-release’).</p>
<p>The release branch is there so that development can continue on the
develop branch while the release candidates (rc) are out and under review.
This is because otherwise any new developments would have to wait until
post-release to be merged into develop to prevent them from accidentally
getting released early.</p>
<p>As such, the ‘vX.X.X-release’ branch should only exist while there are
release candidates out.  They are akin to a temporary second level of staging,
and so everything that is in this branch should also be part of master.</p>
<p>Every time a new release candidate comes out the vX.X.X-release should be
tagged with the name ‘X.X.X-rcX’.  There should be a 2 - 5 day period of time
in between release candidates.  When the full and final release happens, the
‘vX.X.X-release’ branch is merged into master and then deleted.</p>
<p>If you have a new fix that needs to be in the next release candidate, you
should make a topical branch and then pull request it into the release branch.
After this has been accepted, the topical branch should be merged with
master as well.</p>
<p>The release branch must be quiet and untouched for 2 - 5 days prior to the
full release.</p>
<p>The release candidate procedure here only applies to major and minor releases.
Micro releases may be pushed and released directly without having a release
candidate.</p>
<div class="section" id="maintenance-tasks">
<h3>Maintenance Tasks<a class="headerlink" href="#maintenance-tasks" title="Permalink to this headline">¶</a></h3>
<p>You can cleanup your local repository of transient files such as *.pyc files
created by unit testing by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rm -f xonsh/parser_table.py
$ rm -f xonsh/*.pyc tests/*.pyc
$ rm -fr build
</pre></div>
</div>
</div>
<div class="section" id="performing-the-release">
<h3>Performing the Release<a class="headerlink" href="#performing-the-release" title="Permalink to this headline">¶</a></h3>
<p>This is done through the <code class="docutils literal notranslate"><span class="pre">release.xsh</span></code> script. To get a list of the
valid options use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xonsh release.xsh --help
</pre></div>
</div>
<p>You can perform a full release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xonsh release.xsh
</pre></div>
</div>
<p>Or only a specific one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xonsh release.xsh --only-pip
</pre></div>
</div>
<p>You can also exclude a release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xonsh release.xsh --no-conda
</pre></div>
</div>
</div>
</div>
<div class="section" id="document-history">
<h2>Document History<a class="headerlink" href="#document-history" title="Permalink to this headline">¶</a></h2>
<p>Portions of this page have been forked from the PyNE documentation,
Copyright 2011-2015, the PyNE Development Team. All rights reserved.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="sidebar.html" title="sidebar">
          <img class="logo" src="_static/ascii_conch_part_transparent_tight.png" alt="Logo"/>
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="sidebar.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Developer’s Guide</a><ul>
<li><a class="reference internal" href="#making-your-first-change">Making Your First Change</a></li>
<li><a class="reference internal" href="#changelog">Changelog</a></li>
<li><a class="reference internal" href="#style-guide">Style Guide</a><ul>
<li><a class="reference internal" href="#rules-to-write-by">Rules to Write By</a><ul>
<li><a class="reference internal" href="#interfaces">Interfaces</a></li>
<li><a class="reference internal" href="#expectations">Expectations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-style-guide">Python Style Guide</a><ul>
<li><a class="reference internal" href="#imports">Imports</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-test">How to Test</a><ul>
<li><a class="reference internal" href="#docker">Docker</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#running-the-tests-basic">Running the Tests - Basic</a></li>
<li><a class="reference internal" href="#running-the-tests-advanced">Running the Tests - Advanced</a></li>
<li><a class="reference internal" href="#writing-the-tests-advanced">Writing the Tests - Advanced</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-document">How to Document</a><ul>
<li><a class="reference internal" href="#docstrings">Docstrings</a></li>
<li><a class="reference internal" href="#auto-documentation-hooks">Auto-Documentation Hooks</a></li>
<li><a class="reference internal" href="#python-hooks">Python Hooks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-the-website">Building the Website</a><ul>
<li><a class="reference internal" href="#procedure-for-modifying-the-website">Procedure for modifying the website</a></li>
</ul>
</li>
<li><a class="reference internal" href="#branches-and-releases">Branches and Releases</a><ul>
<li><a class="reference internal" href="#maintenance-tasks">Maintenance Tasks</a></li>
<li><a class="reference internal" href="#performing-the-release">Performing the Release</a></li>
</ul>
</li>
<li><a class="reference internal" href="#document-history">Document History</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="advanced_events.html"
                          title="Previous page">&larr; Advanced Events</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="changelog.html"
                          title="Next page">&rarr; Xonsh Change Log</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/devguide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="changelog.html" title="Xonsh Change Log"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="advanced_events.html" title="Advanced Events"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="sidebar.html">xonsh 0.7.3.dev37 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >the xonsh shell</a> &#187;</li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Anthony Scopatz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>